(window.webpackJsonp=window.webpackJsonp||[]).push([[6,8],{148:function(e,t,i){},150:function(e,t,i){},152:function(e,t,i){"use strict";i(148)},154:function(e,t,i){"use strict";i(150)},155:function(e,t,i){"use strict";const s={autoIndent:!0,automaticLayout:!0,find:{autoFindInSelection:!0,seedSearchStringFromSelection:!0},minimap:{enabled:!1},renderControlCharacters:!0,renderIndentGuides:!0,renderValidationDecorations:"on",renderWhitespace:"boundary",scrollBeyondLastLine:!1};function o(e,t){return Math.max(1,0|(void 0!==e?e:t))}function r(e,t){const i=e.getModel();null!=i&&t!==i.getValue()&&i.setValue(t)}function n(e){null!=e&&(e.getOriginalEditor&&n(e.getOriginalEditor()),e.getModifiedEditor&&n(e.getModifiedEditor()),e.getModel&&n(e.getModel()),e.dispose&&e.dispose())}function a(e){const t=("string"==typeof e.code?e.code:e.code&&e.code.value)||"";return`[${e.startLineNumber},${e.startColumn},${e.endLineNumber},${e.endColumn}]-${t}`}function d(e,t,i,s){const o=i.getPositionAt(s.range[0]),r=i.getPositionAt(s.range[1]),n={startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:r.lineNumber,endColumn:r.column};return{title:e,diagnostics:[t],kind:"quickfix",edit:{edits:[{resource:i.uri,edit:{range:n,text:s.text}}]}}}var l={name:"ESLintEditor",model:{prop:"code",event:"input"},props:{linter:{type:Object,default:null},code:{type:String,default:""},config:{type:Object,default:()=>({})},dark:{type:Boolean},filename:{type:String,default:"a.js"},preprocess:{type:Function,default:null,required:!1},postprocess:{type:Function,default:null,required:!1},fix:{type:Boolean},format:{type:Object,default:()=>({insertSpaces:!0,tabSize:4})},language:{type:String,default:"javascript"}},data(){return{monaco:null,monacoLoadingError:null,loadLanguage:null,editor:null,editing:!1,messages:[],fixedCode:this.code,fixedMessages:[],previewFix:!1,requestFix:!1,editorMessageMap:new Map,codeActionProviderDisposable:null}},computed:{codeEditor(){const e=this.editor;return null!=e?null!=e.getOriginalEditor?e.getOriginalEditor():e:null},fixedCodeEditor(){const e=this.editor;return null!=e&&null!=e.getModifiedEditor?e.getModifiedEditor():null},codeActionProvider(){return{provideCodeActions:(e,t,i)=>{const{editorMessageMap:s}=this,o=s.get(e.uri);if("quickfix"!==i.only||!o)return{actions:[],dispose(){}};const r=[];for(const t of i.markers){const i=o.get(a(t));if(i&&(i.fix&&r.push(d(`Fix this ${i.ruleId} problem`,t,e,i.fix)),i.suggestions))for(const s of i.suggestions)r.push(d(`${s.desc} (${i.ruleId})`,t,e,s.fix))}return{actions:r,dispose(){}}}}}},watch:{linter(){this.invalidate()},code(e){this.updateCode(e)},previewFix(){this.initialize()},config:{handler(){this.invalidate()},deep:!0},filename(){this.invalidate()},fix(){this.initialize()},fixedCode(e){const t=this.fixedCodeEditor;null!=t&&r(t,e)},fixedMessages(e){const t=this.fixedCodeEditor;null!=t&&this.updateMarkers(t,e)},format(e){const t=this.codeEditor;null!=t&&t.getModel().updateOptions(e)},messages(e){const t=this.codeEditor;null!=t&&this.updateMarkers(t,e,!0)},language(e){const{monaco:t,loadLanguage:i}=this;null!=t&&(async()=>{if(await i(e),e===this.language){for(const i of[this.codeEditor,this.fixedCodeEditor])null!=i&&t.editor.setModelLanguage(i.getModel(),e);n(this.codeActionProviderDisposable),this.codeActionProviderDisposable=this.monaco.languages.registerCodeActionProvider(this.language,this.codeActionProvider)}})().catch(t=>{console.error("Failed to set the language '%s':",e,t)})}},mounted(){(async()=>{const{monaco:e,loadLanguage:t}=await Promise.all([i.e(0),i.e(15)]).then(i.bind(null,395));await t(this.language),this.monaco=e,this.loadLanguage=t,this.codeActionProviderDisposable=e.languages.registerCodeActionProvider(this.language,this.codeActionProvider)})().catch(e=>{console.error("Failed to load Monaco editor:",e),this.monacoLoadingError=e})},beforeDestroy(){n(this.editor),n(this.codeActionProviderDisposable),this.$refs.monaco.innerHTML="",this.editor=null},methods:{fadeIn(e){this.$refs.monaco&&this.$refs.monaco.parentNode===e&&this.initialize()},initialize(){null!=this.monaco&&(n(this.editor),this.$refs.monaco.innerHTML="",this.editor=this.previewFix?this.createTwoPaneEditor():this.createEditor(),this.lint())},createEditor(){const{code:e,dark:t,format:i,language:o,messages:r,monaco:n}=this,a=n.editor.createModel(e,o);a.updateOptions(i),a.onDidChangeContent(()=>{this.$emit("input",a.getValue()),this.invalidate()});const d=n.editor.create(this.$refs.monaco,{model:a,theme:t?"vs-dark":"vs",...s});return this.updateMarkers(d,r,!0),d},createTwoPaneEditor(){const{code:e,dark:t,fixedCode:i,fixedMessages:o,format:r,language:n,messages:a,monaco:d}=this,l=d.editor.createDiffEditor(this.$refs.monaco,{originalEditable:!0,theme:t?"vs-dark":"vs",...s}),c=d.editor.createModel(e,n),u=d.editor.createModel(i,n),p=l.getOriginalEditor(),g=l.getModifiedEditor();return g.updateOptions({readOnly:!0}),c.updateOptions(r),c.onDidChangeContent(()=>{const e=c.getValue();this.fixedCode=e,this.$emit("input",e),this.invalidate()}),l.setModel({original:c,modified:u}),this.updateMarkers(p,a,!0),this.updateMarkers(g,o),l},messageToMarker(e){const{monaco:t,linter:i}=this,s=e.ruleId&&i.getRules().get(e.ruleId),r=s&&s.meta&&s.meta.docs&&s.meta.docs.url,n=o(e.line,1),a=o(e.column,1),d=o(e.endLine,n),l=o(e.endColumn,a+1);return{code:r?{value:e.ruleId,link:r}:e.ruleId||"FATAL",severity:t.MarkerSeverity.Error,source:"ESLint",message:e.message,startLineNumber:n,startColumn:a,endLineNumber:d,endColumn:l}},updateMarkers(e,t,i){const{monaco:s,editorMessageMap:o}=this,r=e.getModel(),n=e.getId();o.delete(r.uri);const d=[];let l=null;i&&(l=new Map,o.set(r.uri,l));for(const e of t){const t=this.messageToMarker(e);d.push(t),i&&l.set(a(t),e)}s.editor.setModelMarkers(r,n,d)},updateCode(e){const t=this.codeEditor;null!=t&&r(t,e),this.invalidate()},invalidate(){null==this.editor||this.editing||(this.editing=!0,setTimeout(()=>{this.lint(),this.editing=!1},667))},lint(){const{codeEditor:e,config:t,filename:i,preprocess:s,postprocess:o,linter:r}=this;if(null==e||null==r)return;this.editorMessageMap.clear();const n=e.getModel().getValue();try{this.messages=r.verify(n,t,{filename:i,preprocess:s,postprocess:o})}catch(e){this.messages=[{fatal:!0,severity:2,message:e.message,line:1,column:0}]}try{const e=r.verifyAndFix(n,t,{filename:i});this.fixedCode=e.fixed?e.output:n,this.fixedMessages=e.messages}catch(e){this.fixedCode=n,this.fixedMessages=[{fatal:!0,severity:2,message:e.message,line:1,column:0}]}this.$emit("change",{code:n,messages:this.messages,fixedCode:this.fixedCode,fixedMessages:this.fixedMessages}),this.requestFix&&(this.requestFix=!1,this.fixedCode!==this.code&&(this.$emit("input",this.fixedCode),this.updateCode(this.fixedCode)))},applyAutofix(){const{code:e,fixedCode:t,editing:i}=this;i?this.requestFix=!0:t!==e&&(this.$emit("input",t),this.updateCode(t))}}},c=(i(152),i(6)),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"eslint-editor-root",class:{"eslint-editor-dark":e.dark}},[i("transition",{attrs:{name:"eslint-editor-fade"},on:{"before-enter":e.fadeIn}},[e.monaco?i("div",{key:"editor",staticClass:"eslint-editor-swap-container"},[i("div",{ref:"monaco",staticClass:"eslint-editor-monaco"}),e._v(" "),e.fix?i("div",{staticClass:"eslint-editor-actions"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.previewFix,expression:"previewFix"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previewFix)?e._i(e.previewFix,null)>-1:e.previewFix},on:{change:function(t){var i=e.previewFix,s=t.target,o=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.previewFix=i.concat([null])):r>-1&&(e.previewFix=i.slice(0,r).concat(i.slice(r+1)))}else e.previewFix=o}}}),e._v("\n                    Preview\n                ")]),e._v(" "),i("button",{on:{click:e.applyAutofix}},[e._v("\n                    Apply\n                ")])]):e._e()]):i("div",{key:"placeholder",staticClass:"eslint-editor-swap-container"},[i("code",{staticClass:"eslint-editor-placeholder-code"},[e._v(e._s(e.code))]),e._v(" "),i("transition",{attrs:{name:"eslint-editor-fade"}},[e.monacoLoadingError?i("div",{key:"error",staticClass:"eslint-editor-placeholder-error"},[e._v("\n                    Failed to load this editor\n                ")]):i("div",{key:"loading",staticClass:"eslint-editor-placeholder-loading"},[i("div",{staticClass:"eslint-editor-placeholder-loading-icon"},[i("div"),e._v(" "),i("div"),e._v(" "),i("div")]),e._v(" "),i("div",{staticClass:"eslint-editor-placeholder-loading-message"},[e._v("\n                        Now loading...\n                    ")])])])],1)])],1)}),[],!1,null,null,null);t.a=u.exports},158:function(e,t,i){"use strict";i.r(t);var s=i(155),o=i(153),r=i.n(o),n={name:"EslintPluginEditor",components:{EslintEditor:s.a},model:{prop:"code"},props:{code:{type:String,default:""},fix:{type:Boolean},rules:{type:Object,default:()=>({})},dark:{type:Boolean},language:{type:String,default:"html"},fileName:{type:String,default:"a.svelte"},parser:{type:String,default:"svelte-eslint-parser"}},data:()=>({eslint4b:null,svelteESLintParser:null,format:{insertSpaces:!0,tabSize:2},preprocess:r.a.processors[".svelte"].preprocess,postprocess:r.a.processors[".svelte"].postprocess}),computed:{config(){return{globals:{ArrayBuffer:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,WeakMap:!1,WeakSet:!1,Atomics:!1,SharedArrayBuffer:!1},rules:this.rules,parser:this.parser,parserOptions:{sourceType:"script",ecmaVersion:2020}}},linter(){if(!this.eslint4b||!this.svelteESLintParser)return null;const e=new(0,this.eslint4b);e.defineParser("svelte-eslint-parser",this.svelteESLintParser);for(const t of Object.keys(r.a.rules)){const i=r.a.rules[t];e.defineRule(i.meta.docs.ruleId,i)}return e}},async mounted(){const[{default:e},t]=await Promise.all([Promise.resolve().then(i.t.bind(null,266,7)),Promise.resolve().then(i.t.bind(null,173,7)).then(()=>Promise.resolve().then(i.t.bind(null,223,7)))]);this.eslint4b=e,this.svelteESLintParser=t}},a=(i(154),i(6)),d=Object(a.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("eslint-editor",{ref:"editor",staticClass:"eslint-code-block",attrs:{linter:e.linter,config:e.config,code:e.code,language:e.language,filename:e.fileName,preprocess:e.preprocess,postprocess:e.postprocess,dark:e.dark,format:e.format,fix:e.fix},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}})}),[],!1,null,"39b1d786",null);t.default=d.exports},238:function(e,t,i){"use strict";i.r(t);var s={name:"PgEditor",components:{EslintPluginEditor:i(158).default},props:{value:{type:String,default:""},rules:{type:Object,default:()=>({})},messages:{type:Array,default:()=>[]}}},o=i(6),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("eslint-plugin-editor",{ref:"editor",attrs:{code:e.value,rules:e.rules,fix:"",dark:""},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}})}),[],!1,null,null,null);t.default=r.exports}}]);